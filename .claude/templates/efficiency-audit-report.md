# Token Efficiency Audit Report

**Generated**: {{date}}
**Sessions Analyzed**: {{sessionCount}}
**Report Type**: {{reportType}}

---

## Executive Summary

| Metric | Value | Target | Status |
|--------|-------|--------|--------|
| Success Rate | {{successRate}}% | ≥90% | {{successStatus}} |
| Avg Tokens/Session | {{avgTokens}} | ≤25,000 | {{tokenStatus}} |
| Avg Iterations | {{avgIterations}} | ≤15 | {{iterationStatus}} |
| Trend | {{trendDirection}} | Improving | {{trendStatus}} |

---

## Rule Violations

Rules are evaluated against session history. High trigger rates indicate recurring issues.

| Rule | Trigger Rate | Severity | Action Required |
|------|-------------|----------|-----------------|
{{#each ruleResults}}
| {{name}} | {{triggerRate}}% | {{severity}} | {{recommendation}} |
{{/each}}

---

## Recommendations

{{#each recommendations}}
### {{priority}}: {{issue}}

**Action**: {{action}}
**Expected Impact**: {{impact}}

{{/each}}

---

## Trend Analysis

{{#if hasTrend}}
**Direction**: {{trendDirection}} ({{trendPercent}}% change)
**Analysis Period**: Last 6 sessions

{{trendInsight}}
{{else}}
*Insufficient data for trend analysis. Need 6+ sessions.*
{{/if}}

---

## Session Patterns

### High Performers (< 70% budget)
{{#if highPerformers}}
{{#each highPerformers}}
- **{{id}}**: {{percentUsed}}% budget, {{filesModified}} files
{{/each}}
{{else}}
*No high-performer sessions recorded yet.*
{{/if}}

### Over Budget Sessions
{{#if overBudget}}
{{#each overBudget}}
- **{{id}}**: {{percentUsed}}% budget - {{cause}}
{{/each}}
{{else}}
*No over-budget sessions. Excellent budget discipline!*
{{/if}}

---

## Phase Distribution (Avg Across Sessions)

```
Preparation  : {{prepTokens}} tokens ({{prepPercent}}%)
Exploration  : {{exploreTokens}} tokens ({{explorePercent}}%)
Planning     : {{planTokens}} tokens ({{planPercent}}%)
File Reading : {{readTokens}} tokens ({{readPercent}}%)
Execution    : {{execTokens}} tokens ({{execPercent}}%)
Testing      : {{testTokens}} tokens ({{testPercent}}%)
Commits      : {{commitTokens}} tokens ({{commitPercent}}%)
```

**Optimal Targets**:
- Preparation: 5-10% (index/context files)
- Exploration: 10-20% (understanding codebase)
- Execution: 40-60% (actual implementation)
- Testing: 10-15% (validation)

---

## Next Steps

1. {{step1}}
2. {{step2}}
3. {{step3}}

---

*Generated by Token Efficiency Learning Engine v1*
